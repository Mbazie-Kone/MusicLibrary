<h2>Login</h2>

<form [formGroup]="form" (ngSubmit)="submit()">

    <label>
        Email
        <input type="email" formControlName="email" />
    </label>

    <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
        Please enter a valid email.
    </div>

    <label>
        Password
        <input type="password" formControlName="password" />
    </label>

    <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched">
        Password is required.
    </div>

    <button type="submit" [disabled]="loading">
        {{ loading ? 'Logging in...' : 'Login' }}
    </button>

</form>

<p *ngIf="errorMessage" style="color: red;">
    {{ errorMessage }}
</p>
